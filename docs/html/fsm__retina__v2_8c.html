<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retina: recepci贸n y transmisi贸n de infrarrojos: common/src/fsm_retina_v2.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Retina: recepci贸n y transmisi贸n de infrarrojos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('fsm__retina__v2_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">fsm_retina_v2.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Retina FSM main file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="commands_8h_source.html">commands.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__button_8h_source.html">fsm_button.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__tx_8h_source.html">fsm_tx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__rx_8h_source.html">fsm_rx.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="fsm__retina__v2_8h_source.html">fsm_retina_v2.h</a>&quot;</code><br />
</div>
<p><a href="fsm__retina__v2_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsm__retina__t.html">fsm_retina_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to define the Retina FSM.  <a href="structfsm__retina__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a99fb83031ce9923c84392b4e92f956b5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <br />
&#160;&#160;<a class="el" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a4fcd0425d7d56b0e2911670db8e84d32">OFF_RETINA</a> = 0
, <br />
&#160;&#160;<a class="el" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>
, <br />
&#160;&#160;<a class="el" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>
, <br />
&#160;&#160;<a class="el" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>
, <br />
&#160;&#160;<a class="el" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>
<br />
 }</td></tr>
<tr class="separator:a99fb83031ce9923c84392b4e92f956b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac86aac1fb8efb9da45656bf6e3717544"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#ac86aac1fb8efb9da45656bf6e3717544">_load_commands</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this, uint32_t *commands)</td></tr>
<tr class="memdesc:ac86aac1fb8efb9da45656bf6e3717544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the commands of the controller to the fsm.  <br /></td></tr>
<tr class="separator:ac86aac1fb8efb9da45656bf6e3717544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59fc2e8ef3a029718c76ade86ad195a9"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a59fc2e8ef3a029718c76ade86ad195a9">check_short_pressed_v2</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a59fc2e8ef3a029718c76ade86ad195a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the button has been pressed fast to send a new command.  <br /></td></tr>
<tr class="separator:a59fc2e8ef3a029718c76ade86ad195a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659bcc80451aef1447a2b9084a8e7b68"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a659bcc80451aef1447a2b9084a8e7b68">check_long_pressed</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a659bcc80451aef1447a2b9084a8e7b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the button has been pressed long to change between transmitter and receiver modes.  <br /></td></tr>
<tr class="separator:a659bcc80451aef1447a2b9084a8e7b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a325d1276c3ba18a555de21ae0ab7c08b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a325d1276c3ba18a555de21ae0ab7c08b">check_change_controller</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a325d1276c3ba18a555de21ae0ab7c08b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the button 0, which will be allways the one of change mode, has been short pressed.  <br /></td></tr>
<tr class="separator:a325d1276c3ba18a555de21ae0ab7c08b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68bfc07293b5050a79799fa13f6a1db"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#ad68bfc07293b5050a79799fa13f6a1db">check_on_button</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:ad68bfc07293b5050a79799fa13f6a1db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the button to turn on the system has been pressed.  <br /></td></tr>
<tr class="separator:ad68bfc07293b5050a79799fa13f6a1db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27791bcb353fd9bf513cf1fb124a84d5"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a27791bcb353fd9bf513cf1fb124a84d5">check_code</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a27791bcb353fd9bf513cf1fb124a84d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there is a new code in the infrared receiver FSM.  <br /></td></tr>
<tr class="separator:a27791bcb353fd9bf513cf1fb124a84d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a831d11281556c3d19f17da6088ff7fec"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a831d11281556c3d19f17da6088ff7fec">check_error</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a831d11281556c3d19f17da6088ff7fec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there has been received an erroneous code.  <br /></td></tr>
<tr class="separator:a831d11281556c3d19f17da6088ff7fec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e569115408f9427a03aad6f4b067bb2"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a6e569115408f9427a03aad6f4b067bb2">check_repetition</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a6e569115408f9427a03aad6f4b067bb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if there has been a repetition.  <br /></td></tr>
<tr class="separator:a6e569115408f9427a03aad6f4b067bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06088d9a3a9cc81178cc9234a66ce35c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a06088d9a3a9cc81178cc9234a66ce35c">check_buttons_array_activity</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a06088d9a3a9cc81178cc9234a66ce35c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for every button if the fsm is doing any activity.  <br /></td></tr>
<tr class="separator:a06088d9a3a9cc81178cc9234a66ce35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c31f180f16c2d66ef56e62004c83bc"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a91c31f180f16c2d66ef56e62004c83bc">check_activity</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a91c31f180f16c2d66ef56e62004c83bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any of the elements of the system is active.  <br /></td></tr>
<tr class="separator:a91c31f180f16c2d66ef56e62004c83bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05439bd432881a570511d46a7d2ff699"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a05439bd432881a570511d46a7d2ff699"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if any of the elements of the system is not active.  <br /></td></tr>
<tr class="separator:a05439bd432881a570511d46a7d2ff699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d3739a676b0756e9d965a9067a988d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#ad1d3739a676b0756e9d965a9067a988d">do_send_next_msg_v2</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:ad1d3739a676b0756e9d965a9067a988d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transmit the next code stored in memory after a short button press.  <br /></td></tr>
<tr class="separator:ad1d3739a676b0756e9d965a9067a988d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb10de28e02eb8fefec81e0a9e1752b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a1fb10de28e02eb8fefec81e0a9e1752b">do_change_controller</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a1fb10de28e02eb8fefec81e0a9e1752b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the array of commands associated with the buttons.  <br /></td></tr>
<tr class="separator:a1fb10de28e02eb8fefec81e0a9e1752b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa65b37d943170fb5357a1f6de4c4d1f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#afa65b37d943170fb5357a1f6de4c4d1f">do_tx_off_rx_on</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:afa65b37d943170fb5357a1f6de4c4d1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the system to receiver mode.  <br /></td></tr>
<tr class="separator:afa65b37d943170fb5357a1f6de4c4d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db678242efba8b80d622d06faa27978"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a1db678242efba8b80d622d06faa27978">do_rx_off_tx_on</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a1db678242efba8b80d622d06faa27978"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch the system to transmitter mode.  <br /></td></tr>
<tr class="separator:a1db678242efba8b80d622d06faa27978"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaadcd4455f8b57c0cd0b3d7fdea7f43"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#adaadcd4455f8b57c0cd0b3d7fdea7f43">do_execute_code</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:adaadcd4455f8b57c0cd0b3d7fdea7f43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actuate according to the code received.  <br /></td></tr>
<tr class="separator:adaadcd4455f8b57c0cd0b3d7fdea7f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f95fb7d2a6655ee7897d0506a294994"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a5f95fb7d2a6655ee7897d0506a294994">do_discard_rx_and_reset</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a5f95fb7d2a6655ee7897d0506a294994"><td class="mdescLeft">&#160;</td><td class="mdescRight">Discard and reset the code of the infrared receiver FSM.  <br /></td></tr>
<tr class="separator:a5f95fb7d2a6655ee7897d0506a294994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d0fd454021efb6078f8daa758ef465"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a06d0fd454021efb6078f8daa758ef465">do_execute_repetition</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a06d0fd454021efb6078f8daa758ef465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actuate accordingly when receiving a repetition.  <br /></td></tr>
<tr class="separator:a06d0fd454021efb6078f8daa758ef465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d4ce0528a8d396a267bad88a75cda92"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a3d4ce0528a8d396a267bad88a75cda92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the low power mode.  <br /></td></tr>
<tr class="separator:a3d4ce0528a8d396a267bad88a75cda92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15cc63168f1714006696175154cd8b60"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a15cc63168f1714006696175154cd8b60">do_turn_on</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a15cc63168f1714006696175154cd8b60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to turn on the system.  <br /></td></tr>
<tr class="separator:a15cc63168f1714006696175154cd8b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9cb1b7c81a1d0a8d5a03970b7b66422"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#aa9cb1b7c81a1d0a8d5a03970b7b66422">do_turn_off</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:aa9cb1b7c81a1d0a8d5a03970b7b66422"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to turn off the system.  <br /></td></tr>
<tr class="separator:aa9cb1b7c81a1d0a8d5a03970b7b66422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96932c1fcd674f9ee10006e095bbf917"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a96932c1fcd674f9ee10006e095bbf917">fsm_retina_new_v2</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *button_arr[], uint32_t button_press_time, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_tx, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_rx, uint8_t rgb_id)</td></tr>
<tr class="memdesc:a96932c1fcd674f9ee10006e095bbf917"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new RETINA FSM.  <br /></td></tr>
<tr class="separator:a96932c1fcd674f9ee10006e095bbf917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7a44455a36be866504eab2a8a044cf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#ab7a44455a36be866504eab2a8a044cf9">fsm_retina_init_v2</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this, <a class="el" href="structfsm__t.html">fsm_t</a> *button_arr[], uint32_t button_press_time, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_tx, <a class="el" href="structfsm__t.html">fsm_t</a> *p_fsm_rx, uint8_t rgb_id)</td></tr>
<tr class="memdesc:ab7a44455a36be866504eab2a8a044cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the infrared transmitter FSM.  <br /></td></tr>
<tr class="separator:ab7a44455a36be866504eab2a8a044cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aecaae0c2e0d0b4e37bc62e2c6e891e80"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#aecaae0c2e0d0b4e37bc62e2c6e891e80">tx_1_commands</a> [<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>] = {<a class="el" href="commands_8h.html#a200ba4c5c235fd16576b6bb5dbddcd55">ON_BUTTON</a>, <a class="el" href="commands_8h.html#a182d202633a0b9a4e32453872f9ff04b">CHANGE_BUTTON</a>, <a class="el" href="commands_8h.html#a062fd1c501c1b5ffb47cabeeace89c6d">MY_RED_BUTTON</a>}</td></tr>
<tr class="separator:aecaae0c2e0d0b4e37bc62e2c6e891e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1f49b4dc5d13deb01d790846fa71c9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a2e1f49b4dc5d13deb01d790846fa71c9">tx_2_commands</a> [<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>] = {<a class="el" href="commands_8h.html#a200ba4c5c235fd16576b6bb5dbddcd55">ON_BUTTON</a>, <a class="el" href="commands_8h.html#a182d202633a0b9a4e32453872f9ff04b">CHANGE_BUTTON</a>, <a class="el" href="commands_8h.html#a2b536eedbfaed37397b7cc10d7fbfc3c">MY_GREEN_BUTTON</a>}</td></tr>
<tr class="separator:a2e1f49b4dc5d13deb01d790846fa71c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa10c06b0a114ada997f188f8ec2f1f74"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#aa10c06b0a114ada997f188f8ec2f1f74">tx_3_commands</a> [<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>]</td></tr>
<tr class="separator:aa10c06b0a114ada997f188f8ec2f1f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea6caa9e262bec8d7cd99cea4e0eaa83"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#aea6caa9e262bec8d7cd99cea4e0eaa83">tx_4_commands</a> [<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>]</td></tr>
<tr class="separator:aea6caa9e262bec8d7cd99cea4e0eaa83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af04229d63a49bfaa6e4a001882004308"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#af04229d63a49bfaa6e4a001882004308">tx_5_commands</a> [<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>]</td></tr>
<tr class="separator:af04229d63a49bfaa6e4a001882004308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4344f842a1d11bd35f4fa4552657353"><td class="memItemLeft" align="right" valign="top">uint32_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#af4344f842a1d11bd35f4fa4552657353">commands_table</a> [<a class="el" href="fsm__retina__v2_8h.html#af696a770290a5515af3c4edd43e98d4e">NUMBER_CONTROLLERS</a>] = {<a class="el" href="fsm__retina__v2_8c.html#aecaae0c2e0d0b4e37bc62e2c6e891e80">tx_1_commands</a>, <a class="el" href="fsm__retina__v2_8c.html#a2e1f49b4dc5d13deb01d790846fa71c9">tx_2_commands</a>, <a class="el" href="fsm__retina__v2_8c.html#aa10c06b0a114ada997f188f8ec2f1f74">tx_3_commands</a>, <a class="el" href="fsm__retina__v2_8c.html#aea6caa9e262bec8d7cd99cea4e0eaa83">tx_4_commands</a>, <a class="el" href="fsm__retina__v2_8c.html#af04229d63a49bfaa6e4a001882004308">tx_5_commands</a>}</td></tr>
<tr class="separator:af4344f842a1d11bd35f4fa4552657353"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0654c24f16caff3a93f81f9164cb12db"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structfsm__trans__t.html">fsm_trans_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__retina__v2_8c.html#a0654c24f16caff3a93f81f9164cb12db">fsm_trans_retina</a> []</td></tr>
<tr class="memdesc:a0654c24f16caff3a93f81f9164cb12db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition table for fsm_retina_v2.  <br /></td></tr>
<tr class="separator:a0654c24f16caff3a93f81f9164cb12db"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Retina FSM main file. </p>
<dl class="section author"><dt>Author</dt><dd>Jose Manuel Bravo Pacheco </dd>
<dd>
VictorGarcia Garcia </dd></dl>
<dl class="section date"><dt>Date</dt><dd>22/02/2023 </dd></dl>

<p class="definition">Definition in file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a99fb83031ce9923c84392b4e92f956b5" name="a99fb83031ce9923c84392b4e92f956b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99fb83031ce9923c84392b4e92f956b5">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a99fb83031ce9923c84392b4e92f956b5a4fcd0425d7d56b0e2911670db8e84d32" name="a99fb83031ce9923c84392b4e92f956b5a4fcd0425d7d56b0e2911670db8e84d32"></a>OFF_RETINA&#160;</td><td class="fielddoc"><p>State off of the retina board </p>
</td></tr>
<tr><td class="fieldname"><a id="a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460" name="a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460"></a>WAIT_TX&#160;</td><td class="fielddoc"><p>State to wait in transmission mode </p>
</td></tr>
<tr><td class="fieldname"><a id="a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308" name="a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308"></a>WAIT_RX&#160;</td><td class="fielddoc"><p>State to wait in receiver mode </p>
</td></tr>
<tr><td class="fieldname"><a id="a99fb83031ce9923c84392b4e92f956b5a1ed7efe6469eb2a449a2ff9d22f6fc9e" name="a99fb83031ce9923c84392b4e92f956b5a1ed7efe6469eb2a449a2ff9d22f6fc9e"></a>SLEEP_TX&#160;</td><td class="fielddoc"><p>State to be sleeping in transmission mode </p>
</td></tr>
<tr><td class="fieldname"><a id="a99fb83031ce9923c84392b4e92f956b5a23afc23f75cb4a787e0ed942ed2ee6f8" name="a99fb83031ce9923c84392b4e92f956b5a23afc23f75cb4a787e0ed942ed2ee6f8"></a>SLEEP_RX&#160;</td><td class="fielddoc"><p>State to be sleeping in reception mode </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00028">28</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac86aac1fb8efb9da45656bf6e3717544" name="ac86aac1fb8efb9da45656bf6e3717544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac86aac1fb8efb9da45656bf6e3717544">&#9670;&#160;</a></span>_load_commands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void _load_commands </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>commands</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the commands of the controller to the fsm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
    <tr><td class="paramname">commands</td><td>Pointer to the array containing the commands to be loaded </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00067">67</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a91c31f180f16c2d66ef56e62004c83bc" name="a91c31f180f16c2d66ef56e62004c83bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c31f180f16c2d66ef56e62004c83bc">&#9670;&#160;</a></span>check_activity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_activity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if any of the elements of the system is active. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00220">220</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a06088d9a3a9cc81178cc9234a66ce35c" name="a06088d9a3a9cc81178cc9234a66ce35c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06088d9a3a9cc81178cc9234a66ce35c">&#9670;&#160;</a></span>check_buttons_array_activity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool check_buttons_array_activity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for every button if the fsm is doing any activity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00198">198</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a325d1276c3ba18a555de21ae0ab7c08b" name="a325d1276c3ba18a555de21ae0ab7c08b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a325d1276c3ba18a555de21ae0ab7c08b">&#9670;&#160;</a></span>check_change_controller()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_change_controller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the button 0, which will be allways the one of change mode, has been short pressed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00120">120</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a27791bcb353fd9bf513cf1fb124a84d5" name="a27791bcb353fd9bf513cf1fb124a84d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27791bcb353fd9bf513cf1fb124a84d5">&#9670;&#160;</a></span>check_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_code </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there is a new code in the infrared receiver FSM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00150">150</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a831d11281556c3d19f17da6088ff7fec" name="a831d11281556c3d19f17da6088ff7fec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a831d11281556c3d19f17da6088ff7fec">&#9670;&#160;</a></span>check_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_error </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there has been received an erroneous code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00169">169</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a659bcc80451aef1447a2b9084a8e7b68" name="a659bcc80451aef1447a2b9084a8e7b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a659bcc80451aef1447a2b9084a8e7b68">&#9670;&#160;</a></span>check_long_pressed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_long_pressed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the button has been pressed long to change between transmitter and receiver modes. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00106">106</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a05439bd432881a570511d46a7d2ff699" name="a05439bd432881a570511d46a7d2ff699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05439bd432881a570511d46a7d2ff699">&#9670;&#160;</a></span>check_no_activity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_no_activity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if any of the elements of the system is not active. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00235">235</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="ad68bfc07293b5050a79799fa13f6a1db" name="ad68bfc07293b5050a79799fa13f6a1db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad68bfc07293b5050a79799fa13f6a1db">&#9670;&#160;</a></span>check_on_button()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_on_button </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if the button to turn on the system has been pressed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00135">135</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a6e569115408f9427a03aad6f4b067bb2" name="a6e569115408f9427a03aad6f4b067bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e569115408f9427a03aad6f4b067bb2">&#9670;&#160;</a></span>check_repetition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_repetition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if there has been a repetition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00183">183</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a59fc2e8ef3a029718c76ade86ad195a9" name="a59fc2e8ef3a029718c76ade86ad195a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59fc2e8ef3a029718c76ade86ad195a9">&#9670;&#160;</a></span>check_short_pressed_v2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_short_pressed_v2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the button has been pressed fast to send a new command. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00084">84</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a1fb10de28e02eb8fefec81e0a9e1752b" name="a1fb10de28e02eb8fefec81e0a9e1752b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb10de28e02eb8fefec81e0a9e1752b">&#9670;&#160;</a></span>do_change_controller()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_change_controller </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change the array of commands associated with the buttons. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains a <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00269">269</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a5f95fb7d2a6655ee7897d0506a294994" name="a5f95fb7d2a6655ee7897d0506a294994"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f95fb7d2a6655ee7897d0506a294994">&#9670;&#160;</a></span>do_discard_rx_and_reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_discard_rx_and_reset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Discard and reset the code of the infrared receiver FSM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00366">366</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="adaadcd4455f8b57c0cd0b3d7fdea7f43" name="adaadcd4455f8b57c0cd0b3d7fdea7f43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaadcd4455f8b57c0cd0b3d7fdea7f43">&#9670;&#160;</a></span>do_execute_code()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_execute_code </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actuate according to the code received. </p>
<p>This function can be used to act to the RGB LED or any other hardware.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00332">332</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a06d0fd454021efb6078f8daa758ef465" name="a06d0fd454021efb6078f8daa758ef465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d0fd454021efb6078f8daa758ef465">&#9670;&#160;</a></span>do_execute_repetition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_execute_repetition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Actuate accordingly when receiving a repetition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00378">378</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a1db678242efba8b80d622d06faa27978" name="a1db678242efba8b80d622d06faa27978"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db678242efba8b80d622d06faa27978">&#9670;&#160;</a></span>do_rx_off_tx_on()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_rx_off_tx_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch the system to transmitter mode. </p>
<p>When this happens, a new controller has been configured, so we must increment the available controllers</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00312">312</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="ad1d3739a676b0756e9d965a9067a988d" name="ad1d3739a676b0756e9d965a9067a988d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1d3739a676b0756e9d965a9067a988d">&#9670;&#160;</a></span>do_send_next_msg_v2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_send_next_msg_v2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transmit the next code stored in memory after a short button press. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00249">249</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a3d4ce0528a8d396a267bad88a75cda92" name="a3d4ce0528a8d396a267bad88a75cda92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d4ce0528a8d396a267bad88a75cda92">&#9670;&#160;</a></span>do_sleep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_sleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the low power mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00392">392</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="aa9cb1b7c81a1d0a8d5a03970b7b66422" name="aa9cb1b7c81a1d0a8d5a03970b7b66422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9cb1b7c81a1d0a8d5a03970b7b66422">&#9670;&#160;</a></span>do_turn_off()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_turn_off </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to turn off the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00415">415</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a15cc63168f1714006696175154cd8b60" name="a15cc63168f1714006696175154cd8b60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15cc63168f1714006696175154cd8b60">&#9670;&#160;</a></span>do_turn_on()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_turn_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function to turn on the system. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00402">402</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="afa65b37d943170fb5357a1f6de4c4d1f" name="afa65b37d943170fb5357a1f6de4c4d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa65b37d943170fb5357a1f6de4c4d1f">&#9670;&#160;</a></span>do_tx_off_rx_on()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_tx_off_rx_on </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Switch the system to receiver mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a> </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00292">292</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="ab7a44455a36be866504eab2a8a044cf9" name="ab7a44455a36be866504eab2a8a044cf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7a44455a36be866504eab2a8a044cf9">&#9670;&#160;</a></span>fsm_retina_init_v2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsm_retina_init_v2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>button_arr</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>button_press_time_ms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_rx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rgb_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the infrared transmitter FSM. </p>
<p>This function initializes the default values of the FSM struct. On the basic version of Retina, it does not have HW (such as status LEDs, as in example); in thtat case, this fuction must call to the port to initialize the HW associated</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__retina__t.html" title="Structure to define the Retina FSM.">fsm_retina_t</a>. </td></tr>
    <tr><td class="paramname">button_arr</td><td>Pointer to an array with pointers to <a class="el" href="structfsm__button__t.html" title="Struct to define the FSM of a button.">fsm_button_t</a> structs. </td></tr>
    <tr><td class="paramname">button_press_time_ms</td><td>Duration in ms of the button press to change between transmitter and receiver modes. </td></tr>
    <tr><td class="paramname">p_fsm_tx</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__tx__t.html" title="Struct to define the TX FSM.">fsm_tx_t</a>. </td></tr>
    <tr><td class="paramname">p_fsm_rx</td><td>Pointer to an fsm-t struct that contains an <a class="el" href="structfsm__rx__t.html" title="Struct to define the RX FSM.">fsm_rx_t</a>. </td></tr>
    <tr><td class="paramname">rgb_id</td><td>Identifier number of the board rgb. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00459">459</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a96932c1fcd674f9ee10006e095bbf917" name="a96932c1fcd674f9ee10006e095bbf917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96932c1fcd674f9ee10006e095bbf917">&#9670;&#160;</a></span>fsm_retina_new_v2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__t.html">fsm_t</a> * fsm_retina_new_v2 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>button_arr</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>button_press_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_tx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_fsm_rx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>rgb_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new RETINA FSM. </p>
<p>This FSM is the mains state machine of the Retina system that governs the interaction between the otrher state machines of the system: button, trasmitter ans receiver FSM.</p>
<p>-The FSM starts in the WAIT RX state and checks if the button has been pressed for more than button_press_time_ms ms. If so, it goes to the WAIT_TX state to wait to transmit. -When in the WAIT TX state, it checks if the button has been pressed for more than button_press_time_ms ms. If so, it goes to the WAIT RX state to wait to receive. -Being in WAIT RX or WAIT TX, if no machine has any activity (neither the button's FSM, nor the transmitter's, nor the receiver's), it goes to low power mode SLEEP RX or SLEEP TX, respectively. -While in SLEEP RX or SLEEP TX, it checks that no machine has activity, and, by means of an autotransition, it goes to sleep. These autotransitions are used to avoid staying awake by any interruption from other elements than ours, or the debugger. -When waking up by one of our system elements, being in SLEEP RX or SLEEP TX, it will always switch (check_true()) to WAIT RX or WAIT TX, respectively.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">button_arr</td><td>Array with the pointers to <a class="el" href="structfsm__button__t.html" title="Struct to define the FSM of a button.">fsm_button_t</a> structs. </td></tr>
    <tr><td class="paramname">button_press_time</td><td>Duration in ms of the button press to change between transmitter and receiver modes. </td></tr>
    <tr><td class="paramname">p_fsm_tx</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__tx__t.html" title="Struct to define the TX FSM.">fsm_tx_t</a>. </td></tr>
    <tr><td class="paramname">p_fsm_rx</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__rx__t.html" title="Struct to define the RX FSM.">fsm_rx_t</a>. </td></tr>
    <tr><td class="paramname">rgb_id</td><td>Identifier number of the board rgb. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>fsm_t* </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00452">452</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af4344f842a1d11bd35f4fa4552657353" name="af4344f842a1d11bd35f4fa4552657353"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4344f842a1d11bd35f4fa4552657353">&#9670;&#160;</a></span>commands_table</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t* commands_table[<a class="el" href="fsm__retina__v2_8h.html#af696a770290a5515af3c4edd43e98d4e">NUMBER_CONTROLLERS</a>] = {<a class="el" href="fsm__retina__v2_8c.html#aecaae0c2e0d0b4e37bc62e2c6e891e80">tx_1_commands</a>, <a class="el" href="fsm__retina__v2_8c.html#a2e1f49b4dc5d13deb01d790846fa71c9">tx_2_commands</a>, <a class="el" href="fsm__retina__v2_8c.html#aa10c06b0a114ada997f188f8ec2f1f74">tx_3_commands</a>, <a class="el" href="fsm__retina__v2_8c.html#aea6caa9e262bec8d7cd99cea4e0eaa83">tx_4_commands</a>, <a class="el" href="fsm__retina__v2_8c.html#af04229d63a49bfaa6e4a001882004308">tx_5_commands</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Table with the directions of the different commands arrays </p>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00023">23</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a0654c24f16caff3a93f81f9164cb12db" name="a0654c24f16caff3a93f81f9164cb12db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0654c24f16caff3a93f81f9164cb12db">&#9670;&#160;</a></span>fsm_trans_retina</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__trans__t.html">fsm_trans_t</a> fsm_trans_retina[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a4fcd0425d7d56b0e2911670db8e84d32">OFF_RETINA</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#ad68bfc07293b5050a79799fa13f6a1db">check_on_button</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a15cc63168f1714006696175154cd8b60">do_turn_on</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#ad68bfc07293b5050a79799fa13f6a1db">check_on_button</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a4fcd0425d7d56b0e2911670db8e84d32">OFF_RETINA</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#aa9cb1b7c81a1d0a8d5a03970b7b66422">do_turn_off</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#ad68bfc07293b5050a79799fa13f6a1db">check_on_button</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a4fcd0425d7d56b0e2911670db8e84d32">OFF_RETINA</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#aa9cb1b7c81a1d0a8d5a03970b7b66422">do_turn_off</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a59fc2e8ef3a029718c76ade86ad195a9">check_short_pressed_v2</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#ad1d3739a676b0756e9d965a9067a988d">do_send_next_msg_v2</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a325d1276c3ba18a555de21ae0ab7c08b">check_change_controller</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a1fb10de28e02eb8fefec81e0a9e1752b">do_change_controller</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a91c31f180f16c2d66ef56e62004c83bc">check_activity</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, NULL},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a659bcc80451aef1447a2b9084a8e7b68">check_long_pressed</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#afa65b37d943170fb5357a1f6de4c4d1f">do_tx_off_rx_on</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a659bcc80451aef1447a2b9084a8e7b68">check_long_pressed</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a1db678242efba8b80d622d06faa27978">do_rx_off_tx_on</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a27791bcb353fd9bf513cf1fb124a84d5">check_code</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#adaadcd4455f8b57c0cd0b3d7fdea7f43">do_execute_code</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a831d11281556c3d19f17da6088ff7fec">check_error</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a5f95fb7d2a6655ee7897d0506a294994">do_discard_rx_and_reset</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a6e569115408f9427a03aad6f4b067bb2">check_repetition</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a06d0fd454021efb6078f8daa758ef465">do_execute_repetition</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a>},</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a>, <a class="code hl_function" href="fsm__retina__v2_8c.html#a91c31f180f16c2d66ef56e62004c83bc">check_activity</a>, <a class="code hl_enumvalue" href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a>, NULL},</div>
<div class="line">    {-1, NULL, -1, NULL}}</div>
<div class="ttc" id="afsm__retina__v2_8c_html_a05439bd432881a570511d46a7d2ff699"><div class="ttname"><a href="fsm__retina__v2_8c.html#a05439bd432881a570511d46a7d2ff699">check_no_activity</a></div><div class="ttdeci">static bool check_no_activity(fsm_t *p_this)</div><div class="ttdoc">Check if any of the elements of the system is not active.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00235">fsm_retina_v2.c:235</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a06d0fd454021efb6078f8daa758ef465"><div class="ttname"><a href="fsm__retina__v2_8c.html#a06d0fd454021efb6078f8daa758ef465">do_execute_repetition</a></div><div class="ttdeci">static void do_execute_repetition(fsm_t *p_this)</div><div class="ttdoc">Actuate accordingly when receiving a repetition.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00378">fsm_retina_v2.c:378</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a15cc63168f1714006696175154cd8b60"><div class="ttname"><a href="fsm__retina__v2_8c.html#a15cc63168f1714006696175154cd8b60">do_turn_on</a></div><div class="ttdeci">static void do_turn_on(fsm_t *p_this)</div><div class="ttdoc">Function to turn on the system.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00402">fsm_retina_v2.c:402</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a1db678242efba8b80d622d06faa27978"><div class="ttname"><a href="fsm__retina__v2_8c.html#a1db678242efba8b80d622d06faa27978">do_rx_off_tx_on</a></div><div class="ttdeci">static void do_rx_off_tx_on(fsm_t *p_this)</div><div class="ttdoc">Switch the system to transmitter mode.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00312">fsm_retina_v2.c:312</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a1fb10de28e02eb8fefec81e0a9e1752b"><div class="ttname"><a href="fsm__retina__v2_8c.html#a1fb10de28e02eb8fefec81e0a9e1752b">do_change_controller</a></div><div class="ttdeci">static void do_change_controller(fsm_t *p_this)</div><div class="ttdoc">Change the array of commands associated with the buttons.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00269">fsm_retina_v2.c:269</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a27791bcb353fd9bf513cf1fb124a84d5"><div class="ttname"><a href="fsm__retina__v2_8c.html#a27791bcb353fd9bf513cf1fb124a84d5">check_code</a></div><div class="ttdeci">static bool check_code(fsm_t *p_this)</div><div class="ttdoc">Check if there is a new code in the infrared receiver FSM.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00150">fsm_retina_v2.c:150</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a325d1276c3ba18a555de21ae0ab7c08b"><div class="ttname"><a href="fsm__retina__v2_8c.html#a325d1276c3ba18a555de21ae0ab7c08b">check_change_controller</a></div><div class="ttdeci">static bool check_change_controller(fsm_t *p_this)</div><div class="ttdoc">Checks if the button 0, which will be allways the one of change mode, has been short pressed.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00120">fsm_retina_v2.c:120</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a3d4ce0528a8d396a267bad88a75cda92"><div class="ttname"><a href="fsm__retina__v2_8c.html#a3d4ce0528a8d396a267bad88a75cda92">do_sleep</a></div><div class="ttdeci">static void do_sleep(fsm_t *p_this)</div><div class="ttdoc">Start the low power mode.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00392">fsm_retina_v2.c:392</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a59fc2e8ef3a029718c76ade86ad195a9"><div class="ttname"><a href="fsm__retina__v2_8c.html#a59fc2e8ef3a029718c76ade86ad195a9">check_short_pressed_v2</a></div><div class="ttdeci">static bool check_short_pressed_v2(fsm_t *p_this)</div><div class="ttdoc">Check if the button has been pressed fast to send a new command.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00084">fsm_retina_v2.c:84</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a5f95fb7d2a6655ee7897d0506a294994"><div class="ttname"><a href="fsm__retina__v2_8c.html#a5f95fb7d2a6655ee7897d0506a294994">do_discard_rx_and_reset</a></div><div class="ttdeci">static void do_discard_rx_and_reset(fsm_t *p_this)</div><div class="ttdoc">Discard and reset the code of the infrared receiver FSM.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00366">fsm_retina_v2.c:366</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a659bcc80451aef1447a2b9084a8e7b68"><div class="ttname"><a href="fsm__retina__v2_8c.html#a659bcc80451aef1447a2b9084a8e7b68">check_long_pressed</a></div><div class="ttdeci">static bool check_long_pressed(fsm_t *p_this)</div><div class="ttdoc">Check if the button has been pressed long to change between transmitter and receiver modes.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00106">fsm_retina_v2.c:106</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a6e569115408f9427a03aad6f4b067bb2"><div class="ttname"><a href="fsm__retina__v2_8c.html#a6e569115408f9427a03aad6f4b067bb2">check_repetition</a></div><div class="ttdeci">static bool check_repetition(fsm_t *p_this)</div><div class="ttdoc">Check if there has been a repetition.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00183">fsm_retina_v2.c:183</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a831d11281556c3d19f17da6088ff7fec"><div class="ttname"><a href="fsm__retina__v2_8c.html#a831d11281556c3d19f17da6088ff7fec">check_error</a></div><div class="ttdeci">static bool check_error(fsm_t *p_this)</div><div class="ttdoc">Check if there has been received an erroneous code.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00169">fsm_retina_v2.c:169</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a91c31f180f16c2d66ef56e62004c83bc"><div class="ttname"><a href="fsm__retina__v2_8c.html#a91c31f180f16c2d66ef56e62004c83bc">check_activity</a></div><div class="ttdeci">static bool check_activity(fsm_t *p_this)</div><div class="ttdoc">Check if any of the elements of the system is active.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00220">fsm_retina_v2.c:220</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a99fb83031ce9923c84392b4e92f956b5a1ed7efe6469eb2a449a2ff9d22f6fc9e"><div class="ttname"><a href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a1ed7efe6469eb2a449a2ff9d22f6fc9e">SLEEP_TX</a></div><div class="ttdeci">@ SLEEP_TX</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00033">fsm_retina_v2.c:33</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a99fb83031ce9923c84392b4e92f956b5a23afc23f75cb4a787e0ed942ed2ee6f8"><div class="ttname"><a href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a23afc23f75cb4a787e0ed942ed2ee6f8">SLEEP_RX</a></div><div class="ttdeci">@ SLEEP_RX</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00034">fsm_retina_v2.c:34</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460"><div class="ttname"><a href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a40343b646b045e2d3029021122dc3460">WAIT_TX</a></div><div class="ttdeci">@ WAIT_TX</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00031">fsm_retina_v2.c:31</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a99fb83031ce9923c84392b4e92f956b5a4fcd0425d7d56b0e2911670db8e84d32"><div class="ttname"><a href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a4fcd0425d7d56b0e2911670db8e84d32">OFF_RETINA</a></div><div class="ttdeci">@ OFF_RETINA</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00030">fsm_retina_v2.c:30</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308"><div class="ttname"><a href="fsm__retina__v2_8c.html#a99fb83031ce9923c84392b4e92f956b5a7bc7af0ae548dcff8d0bd8eb7e6c8308">WAIT_RX</a></div><div class="ttdeci">@ WAIT_RX</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00032">fsm_retina_v2.c:32</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_aa9cb1b7c81a1d0a8d5a03970b7b66422"><div class="ttname"><a href="fsm__retina__v2_8c.html#aa9cb1b7c81a1d0a8d5a03970b7b66422">do_turn_off</a></div><div class="ttdeci">static void do_turn_off(fsm_t *p_this)</div><div class="ttdoc">Function to turn off the system.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00415">fsm_retina_v2.c:415</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_ad1d3739a676b0756e9d965a9067a988d"><div class="ttname"><a href="fsm__retina__v2_8c.html#ad1d3739a676b0756e9d965a9067a988d">do_send_next_msg_v2</a></div><div class="ttdeci">static void do_send_next_msg_v2(fsm_t *p_this)</div><div class="ttdoc">Transmit the next code stored in memory after a short button press.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00249">fsm_retina_v2.c:249</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_ad68bfc07293b5050a79799fa13f6a1db"><div class="ttname"><a href="fsm__retina__v2_8c.html#ad68bfc07293b5050a79799fa13f6a1db">check_on_button</a></div><div class="ttdeci">static bool check_on_button(fsm_t *p_this)</div><div class="ttdoc">Checks if the button to turn on the system has been pressed.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00135">fsm_retina_v2.c:135</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_adaadcd4455f8b57c0cd0b3d7fdea7f43"><div class="ttname"><a href="fsm__retina__v2_8c.html#adaadcd4455f8b57c0cd0b3d7fdea7f43">do_execute_code</a></div><div class="ttdeci">static void do_execute_code(fsm_t *p_this)</div><div class="ttdoc">Actuate according to the code received.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00332">fsm_retina_v2.c:332</a></div></div>
<div class="ttc" id="afsm__retina__v2_8c_html_afa65b37d943170fb5357a1f6de4c4d1f"><div class="ttname"><a href="fsm__retina__v2_8c.html#afa65b37d943170fb5357a1f6de4c4d1f">do_tx_off_rx_on</a></div><div class="ttdeci">static void do_tx_off_rx_on(fsm_t *p_this)</div><div class="ttdoc">Switch the system to receiver mode.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina__v2_8c_source.html#l00292">fsm_retina_v2.c:292</a></div></div>
</div><!-- fragment -->
<p>Transition table for fsm_retina_v2. </p>
<div class="image">
<img src="fsm_states_retina_v2.png" alt=""/>
</div>
 
<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00431">431</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="aecaae0c2e0d0b4e37bc62e2c6e891e80" name="aecaae0c2e0d0b4e37bc62e2c6e891e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecaae0c2e0d0b4e37bc62e2c6e891e80">&#9670;&#160;</a></span>tx_1_commands</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t tx_1_commands[<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>] = {<a class="el" href="commands_8h.html#a200ba4c5c235fd16576b6bb5dbddcd55">ON_BUTTON</a>, <a class="el" href="commands_8h.html#a182d202633a0b9a4e32453872f9ff04b">CHANGE_BUTTON</a>, <a class="el" href="commands_8h.html#a062fd1c501c1b5ffb47cabeeace89c6d">MY_RED_BUTTON</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>First controller </p>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00017">17</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="a2e1f49b4dc5d13deb01d790846fa71c9" name="a2e1f49b4dc5d13deb01d790846fa71c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1f49b4dc5d13deb01d790846fa71c9">&#9670;&#160;</a></span>tx_2_commands</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t tx_2_commands[<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>] = {<a class="el" href="commands_8h.html#a200ba4c5c235fd16576b6bb5dbddcd55">ON_BUTTON</a>, <a class="el" href="commands_8h.html#a182d202633a0b9a4e32453872f9ff04b">CHANGE_BUTTON</a>, <a class="el" href="commands_8h.html#a2b536eedbfaed37397b7cc10d7fbfc3c">MY_GREEN_BUTTON</a>}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Second controller </p>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00018">18</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="aa10c06b0a114ada997f188f8ec2f1f74" name="aa10c06b0a114ada997f188f8ec2f1f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa10c06b0a114ada997f188f8ec2f1f74">&#9670;&#160;</a></span>tx_3_commands</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t tx_3_commands[<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Third controller </p>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00019">19</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="aea6caa9e262bec8d7cd99cea4e0eaa83" name="aea6caa9e262bec8d7cd99cea4e0eaa83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea6caa9e262bec8d7cd99cea4e0eaa83">&#9670;&#160;</a></span>tx_4_commands</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t tx_4_commands[<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fourth controller </p>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00020">20</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
<a id="af04229d63a49bfaa6e4a001882004308" name="af04229d63a49bfaa6e4a001882004308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af04229d63a49bfaa6e4a001882004308">&#9670;&#160;</a></span>tx_5_commands</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t tx_5_commands[<a class="el" href="fsm__retina__v2_8h.html#a90476b2dfdca168581ddcdb4e3fc55fb">NUMBER_BUTTONS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Fith controller </p>

<p class="definition">Definition at line <a class="el" href="fsm__retina__v2_8c_source.html#l00021">21</a> of file <a class="el" href="fsm__retina__v2_8c_source.html">fsm_retina_v2.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_4e4d22e38ca4e2e8207825ee2d00bc54.html">src</a></li><li class="navelem"><a class="el" href="fsm__retina__v2_8c.html">fsm_retina_v2.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
