<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Retina: recepci贸n y transmisi贸n de infrarrojos: common/src/fsm_tx.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Retina: recepci贸n y transmisi贸n de infrarrojos
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('fsm__tx_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">fsm_tx.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Infrared transmitter FSM main file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fsm__tx_8h_source.html">fsm_tx.h</a>&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &quot;port_tx.h&quot;</code><br />
</div>
<p><a href="fsm__tx_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfsm__tx__t.html">fsm_tx_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct to define the TX FSM.  <a href="structfsm__tx__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:abc6126af1d45847bc59afa0aa3216b04"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <b>WAIT_TX</b> = 0
 }</td></tr>
<tr class="separator:abc6126af1d45847bc59afa0aa3216b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a4d46bd469eb6da1601f21be6de49b218"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#a4d46bd469eb6da1601f21be6de49b218">_wait_for_tx_ticks</a> (uint32_t ticks)</td></tr>
<tr class="memdesc:a4d46bd469eb6da1601f21be6de49b218"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for some ticks. Each tick if the symbol timer lasts for 562.5 microseconds.  <br /></td></tr>
<tr class="separator:a4d46bd469eb6da1601f21be6de49b218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a752bdf329ea260dea2ecd761af049836"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#a752bdf329ea260dea2ecd761af049836">_send_NEC_burst</a> (uint8_t tx_id, uint32_t ticks_ON, uint32_t ticks_OFF)</td></tr>
<tr class="memdesc:a752bdf329ea260dea2ecd761af049836"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a PWM burst and wait for silence.  <br /></td></tr>
<tr class="separator:a752bdf329ea260dea2ecd761af049836"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e94eaff8ec6283be044f872d2d0f533"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#a2e94eaff8ec6283be044f872d2d0f533">check_tx_start</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:a2e94eaff8ec6283be044f872d2d0f533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if it has been received a code other than 0x00.  <br /></td></tr>
<tr class="separator:a2e94eaff8ec6283be044f872d2d0f533"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab97d48ffb3b35fd18dd72662fd88195f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#ab97d48ffb3b35fd18dd72662fd88195f">do_tx_start</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:ab97d48ffb3b35fd18dd72662fd88195f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the transmission of the received NEC code.  <br /></td></tr>
<tr class="separator:ab97d48ffb3b35fd18dd72662fd88195f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b5ff29c5e73b66861fc6180f1102da8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#a2b5ff29c5e73b66861fc6180f1102da8">fsm_tx_set_code</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this, uint32_t code)</td></tr>
<tr class="memdesc:a2b5ff29c5e73b66861fc6180f1102da8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the given code.  <br /></td></tr>
<tr class="separator:a2b5ff29c5e73b66861fc6180f1102da8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8345283baebe4201a8d28384880fd105"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#a8345283baebe4201a8d28384880fd105">fsm_send_NEC_code</a> (uint8_t tx_id, uint32_t code)</td></tr>
<tr class="memdesc:a8345283baebe4201a8d28384880fd105"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the process to transmit the code stored.  <br /></td></tr>
<tr class="separator:a8345283baebe4201a8d28384880fd105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa7f3f42a8b8c205a4fc90ecb092647"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#a8fa7f3f42a8b8c205a4fc90ecb092647">fsm_tx_new</a> (uint8_t tx_id)</td></tr>
<tr class="memdesc:a8fa7f3f42a8b8c205a4fc90ecb092647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new infrared transmitter FSM.  <br /></td></tr>
<tr class="separator:a8fa7f3f42a8b8c205a4fc90ecb092647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e752ce58e13cce38506f4a86fc229b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#ab6e752ce58e13cce38506f4a86fc229b">fsm_tx_init</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this, uint8_t tx_id)</td></tr>
<tr class="memdesc:ab6e752ce58e13cce38506f4a86fc229b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize an infrared transmitter FSM.  <br /></td></tr>
<tr class="separator:ab6e752ce58e13cce38506f4a86fc229b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab22a966071815b96ca4761b99280d558"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#ab22a966071815b96ca4761b99280d558">fsm_tx_check_activity</a> (<a class="el" href="structfsm__t.html">fsm_t</a> *p_this)</td></tr>
<tr class="memdesc:ab22a966071815b96ca4761b99280d558"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the transmitter FSM is active, or not. As the system is the one controlling the output (PWM and symbol timer), this FSM will always be inactive and will wake up at each interruption of the symbol timer or PWM timer.  <br /></td></tr>
<tr class="separator:ab22a966071815b96ca4761b99280d558"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab5d3dbed8b703b2d531f12cc2e2d9279"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structfsm__trans__t.html">fsm_trans_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsm__tx_8c.html#ab5d3dbed8b703b2d531f12cc2e2d9279">fsm_trans_tx</a> []</td></tr>
<tr class="memdesc:ab5d3dbed8b703b2d531f12cc2e2d9279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transition table for the FSM_TX.  <br /></td></tr>
<tr class="separator:ab5d3dbed8b703b2d531f12cc2e2d9279"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Infrared transmitter FSM main file. </p>
<dl class="section author"><dt>Author</dt><dd>Jose Manuel Bravo Pacheco <br  />
 </dd>
<dd>
Victor Garcia Garcia </dd></dl>
<dl class="section date"><dt>Date</dt><dd>22/02/2023 </dd></dl>

<p class="definition">Definition in file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="abc6126af1d45847bc59afa0aa3216b04" name="abc6126af1d45847bc59afa0aa3216b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc6126af1d45847bc59afa0aa3216b04">&#9670;&#160;</a></span>anonymous enum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00026">26</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a752bdf329ea260dea2ecd761af049836" name="a752bdf329ea260dea2ecd761af049836"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a752bdf329ea260dea2ecd761af049836">&#9670;&#160;</a></span>_send_NEC_burst()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _send_NEC_burst </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>tx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ticks_ON</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ticks_OFF</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a PWM burst and wait for silence. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tx_id</td><td>Unique transmitter identifier number </td></tr>
    <tr><td class="paramname">ticks_ON</td><td>Number of ticks to wait for an active PWM burst </td></tr>
    <tr><td class="paramname">ticks_OFF</td><td>Number of ticks to wait for a silence </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00051">51</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<a id="a4d46bd469eb6da1601f21be6de49b218" name="a4d46bd469eb6da1601f21be6de49b218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d46bd469eb6da1601f21be6de49b218">&#9670;&#160;</a></span>_wait_for_tx_ticks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _wait_for_tx_ticks </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ticks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wait for some ticks. Each tick if the symbol timer lasts for 562.5 microseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ticks</td><td>Number of ticks to wait </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00036">36</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<a id="a2e94eaff8ec6283be044f872d2d0f533" name="a2e94eaff8ec6283be044f872d2d0f533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e94eaff8ec6283be044f872d2d0f533">&#9670;&#160;</a></span>check_tx_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool check_tx_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if it has been received a code other than 0x00. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__tx__t.html" title="Struct to define the TX FSM.">fsm_tx_t</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00067">67</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<a id="ab97d48ffb3b35fd18dd72662fd88195f" name="ab97d48ffb3b35fd18dd72662fd88195f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab97d48ffb3b35fd18dd72662fd88195f">&#9670;&#160;</a></span>do_tx_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void do_tx_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the transmission of the received NEC code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00080">80</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<a id="a8345283baebe4201a8d28384880fd105" name="a8345283baebe4201a8d28384880fd105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8345283baebe4201a8d28384880fd105">&#9670;&#160;</a></span>fsm_send_NEC_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsm_send_NEC_code </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>tx_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start the process to transmit the code stored. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tx_id</td><td>Unique infrared transmitter identifier number </td></tr>
    <tr><td class="paramname">code</td><td>Code of the NEC command to be transmitted </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00107">107</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<a id="ab22a966071815b96ca4761b99280d558" name="ab22a966071815b96ca4761b99280d558"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22a966071815b96ca4761b99280d558">&#9670;&#160;</a></span>fsm_tx_check_activity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool fsm_tx_check_activity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the transmitter FSM is active, or not. As the system is the one controlling the output (PWM and symbol timer), this FSM will always be inactive and will wake up at each interruption of the symbol timer or PWM timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains an <a class="el" href="structfsm__tx__t.html" title="Struct to define the TX FSM.">fsm_tx_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00146">146</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<a id="ab6e752ce58e13cce38506f4a86fc229b" name="ab6e752ce58e13cce38506f4a86fc229b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6e752ce58e13cce38506f4a86fc229b">&#9670;&#160;</a></span>fsm_tx_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsm_tx_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>tx_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize an infrared transmitter FSM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains <a class="el" href="structfsm__tx__t.html" title="Struct to define the TX FSM.">fsm_tx_t</a> </td></tr>
    <tr><td class="paramname">tx_id</td><td>Unique infrared transmitter identifier number </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00136">136</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<a id="a8fa7f3f42a8b8c205a4fc90ecb092647" name="a8fa7f3f42a8b8c205a4fc90ecb092647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fa7f3f42a8b8c205a4fc90ecb092647">&#9670;&#160;</a></span>fsm_tx_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__t.html">fsm_t</a> * fsm_tx_new </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>tx_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new infrared transmitter FSM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tx_id</td><td>infrared transmitter identifier number</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>fsm_t* </dd></dl>

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00129">129</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<a id="a2b5ff29c5e73b66861fc6180f1102da8" name="a2b5ff29c5e73b66861fc6180f1102da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b5ff29c5e73b66861fc6180f1102da8">&#9670;&#160;</a></span>fsm_tx_set_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsm_tx_set_code </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structfsm__t.html">fsm_t</a> *&#160;</td>
          <td class="paramname"><em>p_this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the given code. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p_this</td><td>Pointer to an <a class="el" href="structfsm__t.html" title="Structure that defines a state machine.">fsm_t</a> struct that contains <a class="el" href="structfsm__tx__t.html" title="Struct to define the TX FSM.">fsm_tx_t</a> </td></tr>
    <tr><td class="paramname">code</td><td>Code of the NEC command to be transmitted </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00098">98</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab5d3dbed8b703b2d531f12cc2e2d9279" name="ab5d3dbed8b703b2d531f12cc2e2d9279"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5d3dbed8b703b2d531f12cc2e2d9279">&#9670;&#160;</a></span>fsm_trans_tx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfsm__trans__t.html">fsm_trans_t</a> fsm_trans_tx[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    {<a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__tx_8c.html#a2e94eaff8ec6283be044f872d2d0f533">check_tx_start</a>, <a class="code hl_enumvalue" href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a>, <a class="code hl_function" href="fsm__tx_8c.html#ab97d48ffb3b35fd18dd72662fd88195f">do_tx_start</a>},</div>
<div class="line">    {-1,NULL,-1,NULL},</div>
<div class="line">}</div>
<div class="ttc" id="afsm__retina_8c_html_adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460"><div class="ttname"><a href="fsm__retina_8c.html#adf764cbdea00d65edcd07bb9953ad2b7a40343b646b045e2d3029021122dc3460">WAIT_TX</a></div><div class="ttdeci">@ WAIT_TX</div><div class="ttdef"><b>Definition:</b> <a href="fsm__retina_8c_source.html#l00027">fsm_retina.c:27</a></div></div>
<div class="ttc" id="afsm__tx_8c_html_a2e94eaff8ec6283be044f872d2d0f533"><div class="ttname"><a href="fsm__tx_8c.html#a2e94eaff8ec6283be044f872d2d0f533">check_tx_start</a></div><div class="ttdeci">static bool check_tx_start(fsm_t *p_this)</div><div class="ttdoc">Check if it has been received a code other than 0x00.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__tx_8c_source.html#l00067">fsm_tx.c:67</a></div></div>
<div class="ttc" id="afsm__tx_8c_html_ab97d48ffb3b35fd18dd72662fd88195f"><div class="ttname"><a href="fsm__tx_8c.html#ab97d48ffb3b35fd18dd72662fd88195f">do_tx_start</a></div><div class="ttdeci">static void do_tx_start(fsm_t *p_this)</div><div class="ttdoc">Start the transmission of the received NEC code.</div><div class="ttdef"><b>Definition:</b> <a href="fsm__tx_8c_source.html#l00080">fsm_tx.c:80</a></div></div>
</div><!-- fragment -->
<p>Transition table for the FSM_TX. </p>
<div class="image">
<img src="fsm_tx.png" alt=""/>
</div>
 
<p class="definition">Definition at line <a class="el" href="fsm__tx_8c_source.html#l00092">92</a> of file <a class="el" href="fsm__tx_8c_source.html">fsm_tx.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_bdd9a5d540de89e9fe90efdfc6973a4f.html">common</a></li><li class="navelem"><a class="el" href="dir_4e4d22e38ca4e2e8207825ee2d00bc54.html">src</a></li><li class="navelem"><a class="el" href="fsm__tx_8c.html">fsm_tx.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
